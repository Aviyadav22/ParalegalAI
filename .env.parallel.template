# Parallel Processing Configuration
# Copy this to .env and fill in your API keys

# ============================================
# GEMINI API KEYS (Add 4-8 keys for optimal performance)
# ============================================
# Get keys from: https://makersuite.google.com/app/apikey

GEMINI_API_KEY_1=your_first_gemini_key_here
GEMINI_API_KEY_2=your_second_gemini_key_here
GEMINI_API_KEY_3=your_third_gemini_key_here
GEMINI_API_KEY_4=your_fourth_gemini_key_here
# GEMINI_API_KEY_5=your_fifth_gemini_key_here
# GEMINI_API_KEY_6=your_sixth_gemini_key_here
# GEMINI_API_KEY_7=your_seventh_gemini_key_here
# GEMINI_API_KEY_8=your_eighth_gemini_key_here

# ============================================
# PARALLEL PROCESSING SETTINGS
# ============================================

# Document processing concurrency (2x CPU cores recommended)
PARALLEL_CONCURRENCY=8

# Batch size for document processing
PARALLEL_BATCH_SIZE=100

# Database batch insert size
PARALLEL_DB_BATCH_SIZE=50

# Embedding batch size (max 100 for Gemini)
EMBEDDING_BATCH_SIZE=100

# Concurrent embedding requests
EMBEDDING_CONCURRENCY=10

# ============================================
# DATABASE CONNECTION POOLING
# ============================================

# PostgreSQL connection pool size
DATABASE_CONNECTION_LIMIT=50
DATABASE_POOL_TIMEOUT=0

# Qdrant settings
QDRANT_BATCH_SIZE=2000

# ============================================
# RATE LIMITING
# ============================================

# Retry attempts for failed requests
RETRY_ATTEMPTS=3

# Initial retry delay (ms)
RETRY_DELAY=1000

# Rate limit cooldown (ms)
RATE_LIMIT_COOLDOWN=60000

# ============================================
# PERFORMANCE MONITORING
# ============================================

# Enable detailed logging
DEBUG_PARALLEL_PROCESSING=true

# Log progress every N documents
PROGRESS_LOG_INTERVAL=10

# ============================================
# COLLECTOR INSTANCES
# ============================================

# Run multiple collector instances on different ports
# COLLECTOR_PORT_1=8888
# COLLECTOR_PORT_2=8889
# COLLECTOR_PORT_3=8890
# COLLECTOR_PORT_4=8891
